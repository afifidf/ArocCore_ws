# =============================================================================
# Konfigurasi OP3 Kick Module
# =============================================================================
# File ini berisi parameter untuk mengontrol tendangan presisi robot humanoid.
# Sesuaikan nilai-nilai ini berdasarkan karakteristik robot Anda.
# =============================================================================

# -----------------------------------------------------------------------------
# Tipe-tipe Tendangan
# -----------------------------------------------------------------------------
# Setiap tipe tendangan memiliki parameter berbeda untuk strength, swing angle,
# dan timing. Sesuaikan berdasarkan kebutuhan permainan.

kick_types:
  # Tendangan pendek untuk umpan dekat
  short_pass:
    strength: 0.4           # Kekuatan tendangan (0.0 - 1.0)
    swing_back: 15.0        # Sudut ayunan ke belakang (derajat)
    swing_time: 0.3         # Waktu total ayunan (detik)
    contact_velocity: 3.0   # Kecepatan saat kontak (rad/s)
    follow_through: 10.0    # Sudut follow-through (derajat)
    
  # Tendangan jauh untuk umpan panjang
  long_pass:
    strength: 0.7
    swing_back: 30.0
    swing_time: 0.4
    contact_velocity: 5.0
    follow_through: 15.0
    
  # Tendangan keras untuk menembak ke gawang
  shoot:
    strength: 1.0
    swing_back: 45.0
    swing_time: 0.5
    contact_velocity: 7.0
    follow_through: 20.0

  # Tendangan samping (opsional)
  side_kick:
    strength: 0.5
    swing_back: 20.0
    swing_time: 0.35
    contact_velocity: 4.0
    follow_through: 12.0

# -----------------------------------------------------------------------------
# Parameter Alignment
# -----------------------------------------------------------------------------
# Parameter untuk positioning robot sebelum menendang.
# Presisi alignment sangat mempengaruhi akurasi tendangan.

alignment:
  # Jarak ideal antara kaki robot dan bola (meter)
  distance_to_ball: 0.18
  
  # Toleransi jarak (meter) - robot dianggap aligned jika error < tolerance
  distance_tolerance: 0.02
  
  # Toleransi sudut (derajat) - sudut bola relatif terhadap robot
  angle_tolerance: 8.0
  
  # Toleransi offset lateral/Y (meter)
  y_offset_tolerance: 0.03
  
  # Threshold stabilitas IMU (rad/s) - robot dianggap stabil jika angular velocity < threshold
  stability_threshold: 0.02
  
  # Timeout untuk proses alignment (detik)
  alignment_timeout: 5.0

# -----------------------------------------------------------------------------
# Parameter Balance Control
# -----------------------------------------------------------------------------
# Gain untuk kompensasi keseimbangan selama tendangan.
# Nilai lebih tinggi = kompensasi lebih agresif.

balance:
  # Kompensasi hip roll berdasarkan IMU roll
  hip_roll_gain: 0.35
  
  # Kompensasi knee berdasarkan IMU pitch
  knee_gain: 0.3
  
  # Kompensasi ankle roll berdasarkan IMU roll
  ankle_roll_gain: 0.7
  
  # Kompensasi ankle pitch berdasarkan IMU pitch
  ankle_pitch_gain: 0.9
  
  # Gain dari gyro untuk damping
  gyro_roll_gain: 0.3
  gyro_pitch_gain: 0.5

# -----------------------------------------------------------------------------
# Parameter Timing
# -----------------------------------------------------------------------------
# Timing untuk berbagai fase tendangan.

timing:
  # Siklus kontrol (detik) - harus sesuai dengan control cycle robot
  control_cycle_sec: 0.008
  
  # Waktu untuk mengangkat kaki (detik)
  lift_leg_time: 0.25
  
  # Waktu untuk recovery/kembali ke posisi normal (detik)
  recovery_time: 0.4
  
  # Waktu minimal stabilizing sebelum tendang (detik)
  min_stabilize_time: 0.3
  
  # Timeout stabilizing (detik)
  max_stabilize_time: 2.0

# -----------------------------------------------------------------------------
# Joint Limits
# -----------------------------------------------------------------------------
# Batas aman untuk pergerakan joint selama tendangan.

joint_limits:
  # Batas maksimal hip pitch (radian)
  max_hip_pitch: 1.57
  
  # Batas maksimal knee bend (radian)
  max_knee_bend: 2.0
  
  # Batas maksimal ankle pitch (radian)
  max_ankle_pitch: 1.0
  
  # Batas maksimal hip roll (radian)
  max_hip_roll: 0.5

# -----------------------------------------------------------------------------
# Debug Settings
# -----------------------------------------------------------------------------

debug:
  # Print debug messages
  verbose: false
  
  # Publish visualization markers
  publish_markers: false
  
  # Log trajectory data
  log_trajectory: false
